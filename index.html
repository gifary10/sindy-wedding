<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Wedding of Gifary & Sindy</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Roboto:wght@300;400;500;700&family=Dancing+Script:wght@400;500;600;700&family=Great+Vibes&family=Cormorant+Garamond:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- GLightbox -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="main.css">
</head>
<body class="loading">
    <!-- Header Section -->
    <header id="header">
        <div class="video-container">
            <!-- Fallback image if video doesn't load -->
            <img src="images/cover.jpg" alt="Wedding Cover" class="video-fallback" style="display: none;">
            <video class="video-background" autoplay muted loop playsinline poster="images/cover.jpg">
                <source src="videos/wedding-background.webm" type="video/webm">
                Your browser does not support the video tag.
            </video>
            <div class="header-overlay"></div>
        </div>
        
        <div class="header-content">
            <!-- Initials -->
            <div class="initials-container">
                <h1 class="initials">G & S</h1>
                <div class="initials-decoration"></div>
            </div>
            
            <!-- Wedding Title -->
            <div class="wedding-title">
                <h2 class="the-wedding-of">The Wedding Of</h2>
                <h1 class="couple-names">Gifary & Sindy</h1>
                <p class="wedding-date">27 . 06 . 2026</p>
            </div>
            
            <!-- Countdown -->
            <div class="header-countdown">
                <div class="header-countdown-item">
                    <div class="header-countdown-number" id="headerDays">00</div>
                    <div class="header-countdown-label">Hari</div>
                </div>
                <div class="header-countdown-item">
                    <div class="header-countdown-number" id="headerHours">00</div>
                    <div class="header-countdown-label">Jam</div>
                </div>
                <div class="header-countdown-item">
                    <div class="header-countdown-number" id="headerMinutes">00</div>
                    <div class="header-countdown-label">Menit</div>
                </div>
                <div class="header-countdown-item">
                    <div class="header-countdown-number" id="headerSeconds">00</div>
                    <div class="header-countdown-label">Detik</div>
                </div>
            </div>
            
            <!-- Buttons -->
            <div class="header-buttons">
                <a href="#couple" class="btn-custom">
                    <i class="bi bi-heart me-2"></i>Lihat Undangan
                </a>
                <button class="btn-custom" data-bs-toggle="modal" data-bs-target="#rsvpModal">
                    <i class="bi bi-envelope me-2"></i>Konfirmasi Kehadiran
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="content">
        <!-- Sections will be dynamically inserted here by JavaScript -->
    </main>

    <!-- RSVP Modal -->
    <div class="modal fade" id="rsvpModal" tabindex="-1" aria-labelledby="rsvpModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-hookers-green text-white">
                    <h5 class="modal-title" id="rsvpModalLabel">
                        <i class="bi bi-envelope-heart me-2"></i>Konfirmasi Kehadiran
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="rsvpForm">
                        <div class="mb-3">
                            <label for="guestName" class="form-label">Nama Lengkap</label>
                            <input type="text" class="form-control" id="guestName" required>
                        </div>
                        <div class="mb-3">
                            <label for="guestPhone" class="form-label">Nomor Telepon</label>
                            <input type="tel" class="form-control" id="guestPhone" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Konfirmasi Kehadiran</label>
                            <div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="attendance" id="willAttend" value="hadir" required>
                                    <label class="form-check-label" for="willAttend">Hadir</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="attendance" id="willNotAttend" value="tidak-hadir">
                                    <label class="form-check-label" for="willNotAttend">Tidak Hadir</label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button>
                    <button type="button" class="btn btn-success" onclick="submitRSVP()">
                        <i class="bi bi-send me-2"></i>Kirim Konfirmasi
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- GLightbox -->
    <script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
    
    <!-- ScrollReveal -->
    <script src="https://unpkg.com/scrollreveal"></script>
    
    <!-- TypeScript compiled JavaScript files -->
    <script type="module" src="app.js"></script>
    
    <script>
        // Video fallback handling
        document.addEventListener('DOMContentLoaded', function() {
            const video = document.querySelector('.video-background');
            const fallback = document.querySelector('.video-fallback');
            
            video.addEventListener('error', function() {
                video.style.display = 'none';
                fallback.style.display = 'block';
            });
            
            // Check if video can play
            video.play().catch(function(error) {
                console.log('Video autoplay failed:', error);
                video.style.display = 'none';
                fallback.style.display = 'block';
            });
        });

        // Header Countdown Timer
        function updateHeaderCountdown() {
            const countdownDate = new Date('June 27, 2026 08:00:00').getTime();
            const now = new Date().getTime();
            const distance = countdownDate - now;

            if (distance < 0) {
                document.getElementById('headerDays').textContent = '00';
                document.getElementById('headerHours').textContent = '00';
                document.getElementById('headerMinutes').textContent = '00';
                document.getElementById('headerSeconds').textContent = '00';
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('headerDays').textContent = days.toString().padStart(2, '0');
            document.getElementById('headerHours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('headerMinutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('headerSeconds').textContent = seconds.toString().padStart(2, '0');
        }

        // Update countdown every second
        setInterval(updateHeaderCountdown, 1000);
        updateHeaderCountdown();

        // RSVP Form Submission
        function submitRSVP() {
            const form = document.getElementById('rsvpForm');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            // Here you would typically send the data to a server
            const formData = {
                name: document.getElementById('guestName').value,
                phone: document.getElementById('guestPhone').value,
                attendance: document.querySelector('input[name="attendance"]:checked').value,
                timestamp: new Date().toISOString()
            };

            // Save to localStorage
            const existingRSVP = JSON.parse(localStorage.getItem('weddingRSVP') || '[]');
            existingRSVP.push(formData);
            localStorage.setItem('weddingRSVP', JSON.stringify(existingRSVP));

            // Simulate form submission
            const modal = bootstrap.Modal.getInstance(document.getElementById('rsvpModal'));
            modal.hide();

            // Show success message
            alert('Terima kasih! Konfirmasi kehadiran Anda telah berhasil dikirim.');
            
            // Reset form
            form.reset();
        }

        // Initialize GLightbox
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof GLightbox !== 'undefined') {
                const lightbox = GLightbox({
                    selector: '.glightbox'
                });
            }
        });

        // Smooth scrolling for anchor links
        document.addEventListener('click', function(e) {
            if (e.target.matches('a[href^="#"]')) {
                e.preventDefault();
                const target = document.querySelector(e.target.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }
        });
    </script>
</body>
</html>