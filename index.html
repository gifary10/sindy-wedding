<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Wedding of Gifary & Sindy</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Roboto:wght@300;400;500;700&family=Dancing+Script:wght@400;500;600;700&family=Great+Vibes&family=Cormorant+Garamond:wght@300;400;500;600;700&family=Raleway:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- GLightbox -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="main.css">
</head>
<body class="loading">
    <!-- Header Section -->
    <header id="header">
        <div class="video-container">
            <!-- Fallback image if video doesn't load -->
            <img src="images/cover.jpg" alt="Wedding Cover" class="video-fallback" style="display: none;">
            <video class="video-background" autoplay muted loop playsinline poster="images/cover.jpg">
                <source src="videos/wedding-background.webm" type="video/webm">
                Your browser does not support the video tag.
            </video>
            <div class="header-overlay"></div>
        </div>
        
        <div class="header-content">
            <!-- Initials -->
            <div class="initials-container">
                <h1 class="initials">G & S</h1>
                <div class="initials-decoration"></div>
            </div>
            
            <!-- Wedding Title -->
            <div class="wedding-title">
                <h2 class="the-wedding-of">The Wedding Of</h2>
                <h1 class="couple-names">Gifary & Sindy</h1>
                <p class="wedding-date">27 . 06 . 2026</p>
            </div>
            
            <!-- Countdown -->
            <div class="header-countdown">
                <div class="header-countdown-item">
                    <div class="header-countdown-number" id="headerDays">00</div>
                    <div class="header-countdown-label">Hari</div>
                </div>
                <div class="header-countdown-item">
                    <div class="header-countdown-number" id="headerHours">00</div>
                    <div class="header-countdown-label">Jam</div>
                </div>
                <div class="header-countdown-item">
                    <div class="header-countdown-number" id="headerMinutes">00</div>
                    <div class="header-countdown-label">Menit</div>
                </div>
                <div class="header-countdown-item">
                    <div class="header-countdown-number" id="headerSeconds">00</div>
                    <div class="header-countdown-label">Detik</div>
                </div>
            </div>
            
            <!-- Buttons - akan diupdate oleh modal.js -->
            <div class="header-buttons">
                <a href="#couple" class="btn-custom">
                    <i class="bi bi-heart me-2"></i>Lihat Undangan
                </a>
                <button class="btn-custom" data-bs-toggle="modal" data-bs-target="#rsvpModal">
                    <i class="bi bi-envelope me-2"></i>Kehadiran
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="content">
        <!-- Sections will be dynamically inserted here by JavaScript -->
    </main>

    <!-- Scripts -->
    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- GLightbox -->
    <script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
    
    <!-- ScrollReveal -->
    <script src="https://unpkg.com/scrollreveal"></script>
    
    <!-- TypeScript compiled JavaScript files -->
    <script type="module" src="app.js"></script>
    
    <script>
        // Video fallback handling
        document.addEventListener('DOMContentLoaded', function() {
            const video = document.querySelector('.video-background');
            const fallback = document.querySelector('.video-fallback');
            
            video.addEventListener('error', function() {
                video.style.display = 'none';
                fallback.style.display = 'block';
            });
            
            // Check if video can play
            video.play().catch(function(error) {
                console.log('Video autoplay failed:', error);
                video.style.display = 'none';
                fallback.style.display = 'block';
            });
        });

        // Header Countdown Timer
        function updateHeaderCountdown() {
            const countdownDate = new Date('June 27, 2026 08:00:00').getTime();
            const now = new Date().getTime();
            const distance = countdownDate - now;

            if (distance < 0) {
                document.getElementById('headerDays').textContent = '00';
                document.getElementById('headerHours').textContent = '00';
                document.getElementById('headerMinutes').textContent = '00';
                document.getElementById('headerSeconds').textContent = '00';
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('headerDays').textContent = days.toString().padStart(2, '0');
            document.getElementById('headerHours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('headerMinutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('headerSeconds').textContent = seconds.toString().padStart(2, '0');
        }

        // Update countdown every second
        setInterval(updateHeaderCountdown, 1000);
        updateHeaderCountdown();

        // Initialize GLightbox
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof GLightbox !== 'undefined') {
                const lightbox = GLightbox({
                    selector: '.glightbox'
                });
            }
        });

        // Smooth scrolling for anchor links
        document.addEventListener('click', function(e) {
            if (e.target.matches('a[href^="#"]')) {
                e.preventDefault();
                const target = document.querySelector(e.target.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }
        });
    </script>
</body>
</html>
