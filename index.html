<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Undangan pernikahan Gifary & Sindy — Sabtu, 27 Juni 2026, pukul 10:00 WIB. Klik untuk membuka undangan digital elegan.">
  <meta name="theme-color" content="#8aa88f">
  <meta property="og:title" content="Gifary & Sindy — Wedding Invitation" />
  <meta property="og:description" content="Undangan pernikahan Gifary & Sindy — 27 Juni 2026" />
  <meta property="og:image" content="cover.jpg" />
  <meta property="og:type" content="website" />
  <title>Gifary & Sindy — Wedding Invitation</title>

  <!-- Preload penting -->
  <link rel="preload" href="sound/header.webm" as="video" type="video/webm">
  <link rel="preload" href="sound/music.mp3" as="audio" type="audio/mpeg">

  <!-- Fonts & Styles -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Cormorant+Garamond:wght@300;400;500&family=Quicksand:wght@300;400;500&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" defer>
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet" defer>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" defer>

  <style>
    :root{--bg:#fff;--sage-1:#e9f1ea;--sage-2:#cfe3d0;--sage:#8aa88f;--sage-dark:#6b8f6b;--accent:#b1ccb3;--charcoal:#2f3a36;--muted:#69766f;--shadow:rgba(45,58,52,0.08);}
    html,body{height:100%;margin:0 auto;max-width:820px;background:linear-gradient(180deg,var(--bg)0%,var(--sage-1)100%);color:var(--charcoal);font-family:'Cormorant Garamond',serif;scroll-behavior:smooth;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-shadow:0 0 40px var(--shadow);}
    header{position:relative;height:60vh;display:flex;align-items:center;justify-content:center;text-align:center;overflow:hidden;padding:0 20px;}
    .video-background{position:absolute;inset:0;z-index:1;overflow:hidden;}
    .video-background video{width:100%;height:100%;object-fit:cover;filter:brightness(0.78)saturate(0.95);}
    .video-overlay,header::after{position:absolute;inset:0;background:linear-gradient(180deg,rgba(255,255,255,0.0)0%,rgba(136,154,138,0.10)100%);z-index:2;}
    .header-content{position:relative;z-index:3;max-width:640px;padding:0 16px;animation:fadeInUp 1.6s ease both;}
    .couple-names{font-family:'Playfair Display',serif;font-size:clamp(2.2rem,5vw,3rem);letter-spacing:1px;color:var(--sage-dark);margin-bottom:.6rem;text-shadow:0 6px 18px rgba(79,86,80,0.08);background:linear-gradient(90deg,#5a8f7b,#c2e59c);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
    .wedding-date{font-size:1.1rem;color:var(--muted);margin-bottom:1.4rem;}
    .divider{width:84px;height:3px;background:linear-gradient(90deg,var(--sage),var(--sage-dark));margin:22px auto;border-radius:2px;position:relative;}
    .divider::before,.divider::after{content:'❦';position:absolute;top:-18px;color:var(--sage-dark);font-size:1.05rem;opacity:.9;}
    .divider::before{left:-24px}.divider::after{right:-24px}
    .btn-elegant{background:linear-gradient(90deg,var(--sage-dark),var(--sage));color:#fff;border:none;padding:12px 28px;border-radius:28px;font-family:'Quicksand',sans-serif;font-weight:600;letter-spacing:.8px;transition:all .28s ease;box-shadow:0 8px 22px rgba(98,116,102,0.12);text-decoration:none;display:inline-block;}
    .btn-elegant:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(98,116,102,0.16);color:#fff;}
    section{padding:72px 18px;min-height:60vh;max-width:820px;margin:0 auto;}
    .title{font-family:'Playfair Display',serif;font-size:clamp(1.8rem,4vw,2.1rem);margin-bottom:28px;color:var(--sage-dark);text-align:center;position:relative;}
    .title::after{content:'';width:64px;height:3px;background:linear-gradient(90deg,var(--sage),var(--sage-dark));display:block;margin:14px auto 0;border-radius:2px;}
    footer{margin-top:30px;padding:22px;text-align:center;color:var(--muted);font-size:.92rem;}
    @keyframes fadeInUp{from{opacity:0;transform:translateY(40px);}to{opacity:1;transform:translateY(0);}}
    .rsvp-floating-btn{position:fixed;bottom:100px;right:20px;width:60px;height:60px;background:linear-gradient(135deg,var(--sage-dark),var(--sage));border:none;border-radius:50%;color:#fff;font-size:1.2rem;cursor:pointer;box-shadow:0 8px 25px rgba(107,143,107,0.3);z-index:1000;display:flex;align-items:center;justify-content:center;transition:all .3s cubic-bezier(0.4,0,0.2,1);animation:pulse 2s infinite;}
    .rsvp-floating-btn:hover{transform:scale(1.1)rotate(5deg);box-shadow:0 12px 35px rgba(107,143,107,0.4);}
    @keyframes pulse{0%,100%{transform:scale(1);}50%{transform:scale(1.05);}}
    .mini-audio-player{position:fixed;bottom:170px;right:20px;background:#fff;padding:12px;border-radius:999px;display:flex;align-items:center;gap:8px;box-shadow:0 12px 30px rgba(33,44,38,0.08);border:1px solid rgba(110,130,110,0.06);z-index:1001;backdrop-filter:blur(10px);}
    .mini-btn{background:none;border:none;color:var(--sage-dark);font-size:1rem;cursor:pointer;padding:8px;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;}
    .mini-btn:hover{background:rgba(138,168,143,0.1);transform:scale(1.1);}
    .mini-btn:active{transform:scale(0.95);}
    img[data-src]{opacity:0;transition:opacity .4s ease;}
    img.lazyloaded{opacity:1;}
    @media (prefers-reduced-motion:reduce){*{animation-duration:.01ms!important;transition-duration:.01ms!important;scroll-behavior:auto!important;}}
    @media print{.rsvp-floating-btn,.mini-audio-player,.video-background{display:none!important;}header{height:50vh;background:linear-gradient(135deg,var(--sage-1),var(--sage-2));}}
  </style>
</head>

<body>
  <header>
    <div class="video-background">
      <video autoplay muted loop playsinline preload="none" poster="fallback.jpg">
        <source data-src="sound/header.webm" type="video/webm">
        Browser Anda tidak mendukung video.
      </video>
      <div class="video-overlay"></div>
    </div>

    <div class="header-content">
      <div class="couple-names">Gifary &amp; Sindy</div>
      <div class="wedding-date">Sabtu, 27 Juni 2026 — Jam 10:00 WIB</div>
      <div class="divider"></div>
      <a href="#content" class="btn-elegant mt-3">Buka Undangan</a>
    </div>
  </header>

  <main id="content"></main>

  <audio id="weddingAudio" loop preload="none">
    <source src="sound/music.mp3" type="audio/mpeg">
    Browser Anda tidak mendukung audio.
  </audio>

  <div class="mini-audio-player">
    <button class="mini-btn play-pause-btn" aria-label="Putar/Jeda musik">
      <i class="fas fa-pause"></i>
    </button>
  </div>

  <button class="rsvp-floating-btn" aria-label="Konfirmasi Kehadiran">
    <i class="fas fa-envelope"></i>
  </button>

  <footer>© 2026 Gifary &amp; Sindy — Wedding Invitation • Made with ♥</footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js" defer></script>
  <script src="nav.js" defer></script>
  <script src="countdown.js" defer></script>
  <script src="mempelai.js" defer></script>
  <script src="detail.js" defer></script>
  <script src="maps.js" defer></script>
  <script src="story.js" defer></script>
  <script src="gallery.js" defer></script>
  <script src="rsvp.js" defer></script>
  <script src="wishes.js" defer></script>

  <script>
    document.addEventListener("DOMContentLoaded",()=>{
      // Init AOS
      AOS?.init({duration:700,once:true,offset:100,easing:"ease-out-cubic"});

      // Lazy load video source
      const video=document.querySelector("video source");
      if(video&&video.dataset.src){video.src=video.dataset.src;video.parentElement.load();}

      // Lazy load images
      const lazyImgs=document.querySelectorAll("img[data-src]");
      const observer=new IntersectionObserver(entries=>{
        entries.forEach(e=>{
          if(e.isIntersecting){
            const img=e.target;
            img.src=img.dataset.src;
            img.onload=()=>img.classList.add("lazyloaded");
            observer.unobserve(img);
          }
        });
      });
      lazyImgs.forEach(img=>observer.observe(img));

      // Smooth scroll
      document.querySelector('a[href="#content"]')?.addEventListener("click",e=>{
        e.preventDefault();
        document.getElementById("content")?.scrollIntoView({behavior:"smooth"});
      });

      // Audio control
      const audio=document.getElementById("weddingAudio");
      const btn=document.querySelector(".play-pause-btn");
      if(audio)audio.volume=0.5;
      const tryPlay=()=>audio?.play().catch(()=>{});
      document.addEventListener("click",tryPlay,{once:true});
      document.addEventListener("scroll",tryPlay,{once:true,passive:true});
      btn?.addEventListener("click",()=>{
        if(audio.paused){audio.play();btn.innerHTML='<i class="fas fa-pause"></i>';}
        else{audio.pause();btn.innerHTML='<i class="fas fa-play"></i>';}
      });

      // Video fallback
      const bg=document.querySelector(".video-background video");
      bg?.addEventListener("error",()=>{
        bg.outerHTML='<div style="width:100%;height:100%;background:linear-gradient(135deg,var(--sage-1),var(--sage-2));"></div>';
      });
    });
  </script>
</body>
</html>
